"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4602],{20828:(e,s,t)=>{t.d(s,{A:()=>i});var l=t(9950),a=t(43302),n=(t(58439),t(44414));const i=function(e){let{patientData:s,setSelectedPatient:t,lockedPatient:i}=e;const[d,r]=(0,l.useState)(""),[o,c]=(0,l.useState)(null),[x,m]=(0,l.useState)(!1),u=(s||[]).filter(e=>{var s;return null===(s=e.fullName)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase())});return(0,l.useEffect)(()=>{i&&(c(i),"function"===typeof t&&t(i))},[i]),(0,n.jsx)("div",{className:"w-full rounded-xl px-1",children:(0,n.jsxs)("div",{className:"flex w-full flex-col gap-1",children:[(0,n.jsx)("label",{className:"text-lg mb-2 font-semibold text-black",children:"Patient Name"}),i?(0,n.jsx)("div",{className:"flex items-center h-12 rounded-lg border border-gray-300 px-3 py-1 bg-gray-50",children:(0,n.jsx)("span",{className:"text-sm font-medium text-black",children:i.fullName})}):(0,n.jsxs)("div",{className:"flex items-center h-12 rounded-lg border border-gray-300 px-3 py-1",children:[(0,n.jsx)(a.VxX,{className:"text-gray-400 ml-2",style:{height:"14px",width:"14px"}}),(0,n.jsx)("input",{type:"text",placeholder:"Search Patient",className:"ml-2 w-full border-none text-sm outline-none placeholder:text-sm placeholder:text-gray-400",value:d,onChange:e=>{r(e.target.value),m(!0)}})]}),d&&x&&(0,n.jsx)("div",{className:"custom-scrollbar mt-1 max-h-32 overflow-y-auto rounded-lg border border-gray-200 shadow",children:0===u.length?(0,n.jsx)("p",{className:"p-2 text-xs text-gray-500",children:"No results found"}):u.map(e=>(0,n.jsx)("div",{className:"cursor-pointer p-2 ml-1 text-sm hover:bg-gray-100",onClick:()=>(e=>{c(e),t(e),m(!1),r("")})(e),children:e.fullName},e.id))}),o&&(0,n.jsxs)("div",{className:"mt-3 flex flex-col gap-1",children:[(0,n.jsx)("h6",{className:"text-sm font-medium text-black",children:o.fullName}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:o.email}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:o.mobileNumber})]})]})})}},60044:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var l=t(9950),a=t(17340),n=t(22535),i=t(35887),d=t(28429),r=t(42074),o=t(6604),c=t(74930),x=t(31222),m=t(68873),u=t(58644),h=t(38613),p=t(39174),f=t(38525),b=t(44414);const j=function(e){let{closeModal:s,isOpen:t,slug:a}=e;const[d,r]=(0,l.useState)(n.rQ.status[0]),[o,c]=(0,l.useState)(n.rQ.method[0]);return(0,b.jsx)(u.A,{closeModal:s,isOpen:t,title:"Generate Payment",width:"max-w-xl",children:(0,b.jsxs)("div",{className:"flex-colo gap-6 pb-8",children:[(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("p",{className:"mb-3 text-sm",children:"Status"}),(0,b.jsx)(h.l6,{selectedPerson:d,setSelectedPerson:r,datas:null===n.rQ||void 0===n.rQ?void 0:n.rQ.status,children:(0,b.jsxs)("div",{className:"flex h-14 w-full items-center justify-between rounded-md border border-border px-4 text-xs text-main",children:[(0,b.jsx)("p",{children:null===d||void 0===d?void 0:d.name}),(0,b.jsx)(p.nwe,{className:"text-xl"})]})})]}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("p",{className:"mb-3 text-sm",children:"Payment Method"}),(0,b.jsx)(h.l6,{selectedPerson:o,setSelectedPerson:c,datas:null===n.rQ||void 0===n.rQ?void 0:n.rQ.method,children:(0,b.jsxs)("div",{className:"flex h-14 w-full items-center justify-between rounded-md border border-border px-4 text-xs text-main",children:[(0,b.jsx)("p",{children:null===o||void 0===o?void 0:o.name}),(0,b.jsx)(p.nwe,{className:"text-xl"})]})})]}),(0,b.jsx)(h.$n,{label:"Generate",Icon:f.Bsf,onClick:()=>{i.oR.error("This feature is not available yet")}})]})})};var v=t(26678),g=t(61426),N=t(20828),y=t(61533),w=t(11607),k=t(45418),S=t(86027);const P=function(){const{id:e}=(0,d.g)(),[s,t]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)({}),[P,C]=(0,l.useState)(!0),M=(0,l.useRef)(),D=(0,k.useReactToPrint)({contentRef:M});(0,l.useEffect)(()=>{(async()=>{try{const s=await fetch("".concat("","/doctor/getInvoiceById/").concat(e)),t=await s.json();f(t.data)}catch(s){console.log("error fetching...",s)}finally{C(!1)}})()},[]);const Q="bg-subMain flex-rows gap-3 bg-opacity-5 text-subMain rounded-lg border border-subMain border-dashed px-4 py-3 text-sm",T=n.vz.find(s=>{var t;return(null===(t=s._id)||void 0===t?void 0:t.toString())===e});return P?(0,b.jsx)(a.A,{children:(0,b.jsx)("p",{children:"Loading..."})}):(0,b.jsxs)(a.A,{children:[(0,b.jsx)("style",{children:"\n  @media print {\n    body * {\n      visibility: hidden;\n    }\n    .printable-content, .printable-content * {\n      visibility: visible;\n    }\n    .printable-content {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      margin: 0;\n      padding: 20px;\n    }\n    .no-print {\n      display: none !important;\n    }\n    table {\n      page-break-inside: avoid;\n    }\n  .avoid-break {\n      page-break-inside: avoid !important;\n      break-inside: avoid !important;\n    }\n    @page {\n      size: auto;\n      margin: 5mm;\n    }\n  }\n"}),s&&(0,b.jsx)(j,{isOpen:s,closeModal:()=>{t(!1)}}),u&&(0,b.jsx)(g.A,{isOpen:u,closeModal:()=>{h(!1)}}),(0,b.jsxs)("div",{className:"flex-btn flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(r.N_,{to:"/invoices",className:"text-md rounded-lg border border-dashed border-subMain bg-white px-4 py-3",children:(0,b.jsx)(o.$jz,{})}),(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Preview Invoice"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 no-print",children:[(0,b.jsxs)("button",{onClick:()=>{h(!0)},className:Q,children:["Share ",(0,b.jsx)(v.eFr,{})]}),(0,b.jsxs)("button",{onClick:()=>{(0,S.E)(M.current,"invoice_".concat((null===p||void 0===p?void 0:p.invoiceId)||"preview",".pdf"),()=>i.oR.loading("Download starting..."),()=>{i.oR.dismiss(),i.oR.success("Successfully downloaded!")})},className:Q,children:["Download ",(0,b.jsx)(x.Hm5,{})]}),(0,b.jsxs)("button",{onClick:D,className:Q,children:["Print ",(0,b.jsx)(m.dMs,{})]}),(0,b.jsxs)(r.N_,{to:"/invoices/edit/"+(null===T||void 0===T?void 0:T.id),className:Q,children:["Edit ",(0,b.jsx)(c.SG1,{})]}),(0,b.jsx)("button",{onClick:()=>{t(!0)},className:"rounded-lg bg-subMain px-6 py-3 text-sm text-white",children:"Generate To Payment"})]})]}),(0,b.jsx)("div",{ref:M,"data-aos":"fade-up","data-aos-duration":"1000","data-aos-delay":"100","data-aos-offset":"200",className:"my-8 rounded-xl border-[1px] border-border bg-white p-5 printable-content",children:(0,b.jsxs)("div",{className:"avoid-break",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 items-center gap-2 sm:grid-cols-2 lg:grid-cols-4 invoice-container",children:[(0,b.jsx)("div",{className:"lg:col-span-3"}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:items-end",children:[(0,b.jsxs)("h6",{className:"text-xs font-medium",children:["#",null===p||void 0===p?void 0:p.invoiceId]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-extralight",children:"Date:"}),(0,b.jsx)("h6",{className:"text-xs font-medium",children:(0,w.Yq)(null===p||void 0===p?void 0:p.createdDate)})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-extralight",children:"Due Date:"}),(0,b.jsx)("h6",{className:"text-xs font-medium",children:(0,w.Yq)(null===p||void 0===p?void 0:p.dueDate)})]})]})]}),(0,b.jsx)(N.A,{item:null===T||void 0===T?void 0:T.to,functions:{},button:!1}),(0,b.jsxs)("div",{className:"mt-8 grid grid-cols-6 gap-6",children:[(0,b.jsx)("div",{className:"col-span-6 overflow-hidden rounded-xl border border-border p-6 lg:col-span-4",children:(0,b.jsx)(y.Ss,{data:null===p||void 0===p?void 0:p.items,functions:{},button:!1})}),(0,b.jsxs)("div",{className:"col-span-6 flex flex-col gap-6 lg:col-span-2",children:[(0,b.jsxs)("div",{className:"flex-btn gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-extralight",children:"Currency:"}),(0,b.jsx)("h6",{className:"text-sm font-medium",children:p.currency})]}),(0,b.jsxs)("div",{className:"flex-btn gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-extralight",children:"Sub Total:"}),(0,b.jsx)("h6",{className:"text-sm font-medium",children:p.subTotal})]}),(0,b.jsxs)("div",{className:"flex-btn gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-extralight",children:"Discount:"}),(0,b.jsx)("h6",{className:"text-sm font-medium",children:p.discount?p.discount:0})]}),(0,b.jsxs)("div",{className:"flex-btn gap-4",children:[(0,b.jsx)("p",{className:"text-sm font-extralight",children:"Grand Total:"}),(0,b.jsx)("h6",{className:"text-sm font-medium text-green-600",children:p.subTotal})]}),(0,b.jsxs)("div",{className:"w-full rounded-lg border border-border p-4",children:[(0,b.jsx)("h1",{className:"text-sm font-medium",children:"Notes"}),(0,b.jsx)("p",{className:"mt-2 text-xs font-light leading-5",children:"Thank you for your business. We hope to work with you again soon. You can pay your invoice online at www.example.com/payments"})]})]})]})]})})]})}}}]);