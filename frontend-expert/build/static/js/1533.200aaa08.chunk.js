"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1533],{58439:()=>{},61533:(e,s,t)=>{t.d(s,{JZ:()=>v,Q1:()=>g,Ss:()=>C,Y8:()=>_,Yx:()=>b,c2:()=>y,hs:()=>f,zH:()=>N,zj:()=>w});var l=t(89379),a=t(9950),d=t(38613),r=t(39174),i=t(74930),n=t(26678),c=t(35887),o=t(28429),x=t(11607),m=(t(58439),t(59051)),h=t.n(m),u=t(44414);const j="text-start text-sm font-medium py-3 px-2 whitespace-nowrap",p="text-start text-sm py-4 px-2 whitespace-nowrap";function N(e){let{data:s,action:t,functions:l}=e;return(0,u.jsxs)("table",{className:"w-full table-auto",children:[(0,u.jsx)("thead",{className:"overflow-hidden rounded-md bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:j,children:"#"}),(0,u.jsx)("th",{className:j,children:"Patient"}),(0,u.jsx)("th",{className:j,children:"Date"}),(0,u.jsx)("th",{className:j,children:"Status"}),(0,u.jsxs)("th",{className:j,children:["Amout ",(0,u.jsx)("span",{className:"text-xs font-light",children:"(Tsh)"})]}),(0,u.jsx)("th",{className:j,children:"Method"})]})}),(0,u.jsx)("tbody",{children:s.map((e,s)=>{var t,a,d,r,i;return(0,u.jsxs)("tr",{className:"transitions border-b border-border hover:bg-greyed cursor-pointer",onClick:()=>l.edit(null===e||void 0===e?void 0:e._id),children:[(0,u.jsx)("td",{className:p,children:s+1}),(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("span",{className:"w-12",children:(0,u.jsx)("img",{src:null===e||void 0===e||null===(t=e.patient)||void 0===t?void 0:t.userImage,alt:null===e||void 0===e||null===(a=e.patient)||void 0===a?void 0:a.fullName,className:"h-12 w-full rounded-full border border-border object-cover"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-sm font-medium",children:null===e||void 0===e||null===(d=e.patient)||void 0===d?void 0:d.fullName}),(0,u.jsx)("p",{className:"mt-1 text-xs text-textGray",children:null===e||void 0===e||null===(r=e.patient)||void 0===r||null===(i=r.contactDetails)||void 0===i?void 0:i.primaryContact})]})]})}),(0,u.jsx)("td",{className:p,children:null===e||void 0===e?void 0:e.date}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)("span",{className:"px-4 py-1 ".concat("Approved"===e.status?"bg-subMain text-subMain":"Pending"===e.status?"bg-orange-500 text-orange-500":"Cancelled"===e.status&&"bg-red-600 text-red-600"," rounded-xl bg-opacity-10 text-xs"),children:null===e||void 0===e?void 0:e.status})}),(0,u.jsx)("td",{className:"".concat(p," font-semibold"),children:parseInt(null===e||void 0===e?void 0:e.amount)}),(0,u.jsx)("td",{className:p,children:null===e||void 0===e?void 0:e.method})]},null===e||void 0===e?void 0:e._id)})})]})}function b(e){let{data:s}=e;const t=(0,o.Zp)(),l=[{title:"Edit",icon:i.SG1,onClick:e=>{t("/invoices/edit/".concat(e._id))}},{title:"View",icon:i.Vap,onClick:e=>{t("/invoices/preview/".concat(e._id))}},{title:"Delete",icon:n.Ku6,onClick:()=>{c.oR.error("This feature is not available yet")}}];return(0,u.jsxs)("table",{className:"w-full table-auto",children:[(0,u.jsx)("thead",{className:"overflow-hidden rounded-md bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:j,children:"Invoice ID"}),(0,u.jsx)("th",{className:j,children:"Patients"}),(0,u.jsx)("th",{className:j,children:"Created Date"}),(0,u.jsx)("th",{className:j,children:"Due Date"}),(0,u.jsxs)("th",{className:j,children:["Amout ",(0,u.jsx)("span",{className:"text-xs font-light",children:"(Tsh)"})]}),(0,u.jsx)("th",{className:j,children:"Actions"})]})}),(0,u.jsx)("tbody",{children:s.map(e=>{var s,t,a,i;return(0,u.jsxs)("tr",{className:"transitions border-b border-border hover:bg-greyed",children:[(0,u.jsxs)("td",{className:p,children:["#",null===e||void 0===e?void 0:e.invoiceId]}),(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("span",{className:"w-12",children:(0,u.jsx)("img",{src:null===e||void 0===e||null===(s=e.to)||void 0===s?void 0:s.image,alt:null===e||void 0===e||null===(t=e.to)||void 0===t?void 0:t.title,className:"h-12 w-full rounded-full border border-border object-cover"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-sm font-medium",children:null===e||void 0===e||null===(a=e.to)||void 0===a?void 0:a.title}),(0,u.jsx)("p",{className:"mt-1 text-xs text-textGray",children:null===e||void 0===e||null===(i=e.to)||void 0===i?void 0:i.email})]})]})}),(0,u.jsx)("td",{className:p,children:(0,x.Yq)(null===e||void 0===e?void 0:e.createdDate)}),(0,u.jsx)("td",{className:p,children:(0,x.Yq)(null===e||void 0===e?void 0:e.dueDate)}),(0,u.jsx)("td",{className:"".concat(p," font-semibold"),children:null===e||void 0===e?void 0:e.amount}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)(d.sw,{datas:l,item:e,children:(0,u.jsx)("div",{className:"rounded-lg border bg-dry px-4 py-2 text-xl text-main",children:(0,u.jsx)(r.FwF,{})})})})]},e.id)})})]})}function v(e){let{data:s,onEdit:t}=e;const l=[{title:"Edit",icon:i.SG1,onClick:e=>{t(e)}},{title:"Delete",icon:n.Ku6,onClick:()=>{c.oR.error("This feature is not available yet")}}];return(0,u.jsxs)("table",{className:"w-full table-auto",children:[(0,u.jsx)("thead",{className:"overflow-hidden rounded-md bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:j,children:"Name"}),(0,u.jsxs)("th",{className:j,children:["Price ",(0,u.jsx)("span",{className:"text-xs font-light",children:"(Tsh)"})]}),(0,u.jsx)("th",{className:j,children:"Status"}),(0,u.jsx)("th",{className:j,children:"InStock"}),(0,u.jsx)("th",{className:j,children:"Measure"}),(0,u.jsx)("th",{className:j,children:"Actions"})]})}),(0,u.jsx)("tbody",{children:s.map((e,s)=>{var t;return(0,u.jsxs)("tr",{className:"transitions border-b border-border hover:bg-greyed",children:[(0,u.jsx)("td",{className:p,children:(0,u.jsx)("h4",{className:"text-sm font-medium",children:null===e||void 0===e?void 0:e.name})}),(0,u.jsx)("td",{className:"".concat(p," font-semibold"),children:null===e||void 0===e?void 0:e.price}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)("span",{className:"text-xs font-medium ".concat("Out of stock"===(null===e||void 0===e?void 0:e.status)?"text-red-600":"text-green-600"),children:null===e||void 0===e?void 0:e.status})}),(0,u.jsx)("td",{className:p,children:null===e||void 0===e||null===(t=e.inStock)||void 0===t?void 0:t.toString()}),(0,u.jsx)("td",{className:p,children:null===e||void 0===e?void 0:e.measure}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)(d.sw,{datas:l,item:e,children:(0,u.jsx)("div",{className:"rounded-lg border bg-dry px-4 py-2 text-xl text-main",children:(0,u.jsx)(r.FwF,{})})})})]},e.id)})})]})}function g(e){let{data:s,onEdit:t}=e;const l=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"hidden md:block",children:(0,u.jsxs)("table",{className:"w-full table-auto",children:[(0,u.jsx)("thead",{className:"bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-4 text-left text-sm font-medium",children:"Name"}),(0,u.jsx)("th",{className:"p-4 text-left text-sm font-medium",children:"Created At"}),(0,u.jsxs)("th",{className:"p-4 text-left text-sm font-medium",children:["Price ",(0,u.jsx)("span",{className:"text-xs font-light",children:"(Tsh)"})]}),(0,u.jsx)("th",{className:"p-4 text-left text-sm font-medium",children:"Status"})]})}),(0,u.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map((e,s)=>(0,u.jsxs)("tr",{onClick:()=>t(e),className:"cursor-pointer border-b hover:bg-greyed transition",children:[(0,u.jsx)("td",{className:"p-4 text-sm font-medium",children:null===e||void 0===e?void 0:e.serviceName}),(0,u.jsx)("td",{className:"p-4 text-sm",children:l(null===e||void 0===e?void 0:e.createdAt)}),(0,u.jsx)("td",{className:"p-4 text-sm font-semibold",children:null===e||void 0===e?void 0:e.price}),(0,u.jsx)("td",{className:"p-4 text-sm",children:(0,u.jsx)("span",{className:"text-xs font-medium ".concat(null!==e&&void 0!==e&&e.isDisabled?"text-red-600":"text-green-600"),children:null!==e&&void 0!==e&&e.isDisabled?"Disabled":"Enabled"})})]},(null===e||void 0===e?void 0:e._id)||s))})]})}),(0,u.jsx)("div",{className:"space-y-3 md:hidden",children:null===s||void 0===s?void 0:s.map((e,s)=>(0,u.jsxs)("div",{onClick:()=>t(e),className:"cursor-pointer rounded-xl border border-border bg-white p-4 shadow-sm transition active:scale-[0.98]",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("h4",{className:"text-sm font-semibold",children:null===e||void 0===e?void 0:e.serviceName}),(0,u.jsx)("span",{className:"text-xs font-medium ".concat(null!==e&&void 0!==e&&e.isDisabled?"text-red-600":"text-green-600"),children:null!==e&&void 0!==e&&e.isDisabled?"Disabled":"Enabled"})]}),(0,u.jsxs)("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[(0,u.jsx)("span",{children:l(null===e||void 0===e?void 0:e.createdAt)}),(0,u.jsxs)("span",{className:"font-semibold text-black",children:["Tsh ",null===e||void 0===e?void 0:e.price]})]})]},(null===e||void 0===e?void 0:e._id)||s))})]})}function f(e){let{data:s,onSelectEvent:t}=e;const[l,d]=(0,a.useState)([]);(0,a.useEffect)(()=>{d(s)},[s]);const r="text-sm font-semibold py-4 px-4 whitespace-nowrap",i="text-sm font-medium py-4 px-4 whitespace-nowrap";return(0,u.jsxs)("table",{className:"mr-[2%] w-[98%] table-fixed border-collapse bg-white",children:[(0,u.jsx)("thead",{className:"overflow-hidden rounded-lg",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"".concat(r," w-[10%] text-left"),children:"#"}),(0,u.jsx)("th",{className:"".concat(r," w-[21%] text-left"),children:"Appointment Date"}),(0,u.jsx)("th",{className:"".concat(r," w-[23%] text-left"),children:"Patients"}),(0,u.jsx)("th",{className:"".concat(r," w-[23%] text-center"),children:"Status"}),(0,u.jsx)("th",{className:"".concat(r," w-[23%] text-left"),children:"Time"})]})}),(0,u.jsx)("tbody",{children:l.map((e,s)=>(0,u.jsxs)("tr",{onClick:()=>t(e),className:"cursor-pointer border-b border-border transition hover:bg-greyed",children:[(0,u.jsx)("td",{className:"".concat(i," w-[20%] text-left text-black"),children:s+1}),(0,u.jsx)("td",{className:"".concat(i," w-[20%] text-left"),children:h()(e.dateOfVisit).format("DD MMM, YYYY")}),(0,u.jsx)("td",{className:"".concat(i," w-[20%] text-left"),children:(0,u.jsx)("div",{className:"flex items-center gap-3",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-sm font-semibold text-black",children:e.title}),(0,u.jsx)("p",{className:"mt-1 text-xs font-normal text-textGray",children:e.phone})]})})}),(0,u.jsx)("td",{className:"".concat(i," w-[20%] text-center"),children:(0,u.jsx)("span",{className:"rounded-full bg-opacity-50 px-3 py-1 text-sm font-semibold ".concat("Approved"===e.status?"bg-blue-100 text-green-500":"Cancelled"===e.status?"bg-red-100 text-red-500":"bg-red-100 text-orange-500"),children:e.status})}),(0,u.jsxs)("td",{className:"".concat(i," w-[20%] text-left"),children:[h()(e.start).format("hh:mm A")," -"," ",h()(e.end).format("hh:mm A")]})]},e._id))})]})}function y(e){let{data:s,functions:t,used:l}=e;const[d,r]=(0,a.useState)([]);(0,a.useEffect)(()=>{r(s)},[s]);const i="text-start text-sm font-medium py-3 px-2 whitespace-nowrap",n="text-start text-xs py-4 px-2 whitespace-nowrap";return(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("div",{className:"hidden sm:block w-full overflow-x-auto",children:(0,u.jsxs)("table",{className:"w-full min-w-[700px] table-auto",children:[(0,u.jsx)("thead",{className:"bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:i,children:"#"}),(0,u.jsx)("th",{className:i,children:"Patient"}),(0,u.jsx)("th",{className:i,children:"Created At"}),(0,u.jsx)("th",{className:i,children:"Gender"}),!l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("th",{className:i,children:"Blood Group"}),(0,u.jsx)("th",{className:i,children:"Age"})]})]})}),(0,u.jsx)("tbody",{children:d.map((e,s)=>(0,u.jsxs)("tr",{onClick:()=>t.preview(e._id),className:"border-b border-border hover:bg-greyed cursor-pointer transition",children:[(0,u.jsx)("td",{className:"".concat(n," font-semibold"),children:s+1}),(0,u.jsx)("td",{className:n,children:(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[!l&&(0,u.jsx)("img",{src:e.image,alt:e.title,className:"h-10 w-10 rounded-full object-cover border"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-medium text-black",children:e.title}),(0,u.jsx)("p",{className:"text-xs text-textGray",children:e.phone})]})]})}),(0,u.jsx)("td",{className:n,children:e.date}),(0,u.jsx)("td",{className:n,children:(0,u.jsx)("span",{className:"px-3 py-1 rounded-full text-xs bg-opacity-50\n                      ".concat("Male"===e.gender?"bg-blue-100 text-blue-500":"Female"===e.gender?"bg-red-100 text-red-500":"bg-gray-100 text-gray-500","\n                    "),children:e.gender})}),!l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("td",{className:n,children:e.blood}),(0,u.jsx)("td",{className:n,children:e.age})]})]},e._id))})]})}),(0,u.jsx)("div",{className:"block sm:hidden space-y-4",children:d.map((e,s)=>(0,u.jsxs)("div",{onClick:()=>t.preview(e._id),className:"rounded-xl border border-border bg-white p-4 shadow-sm cursor-pointer",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[!l&&(0,u.jsx)("img",{src:e.image,alt:e.title,className:"h-12 w-12 rounded-full object-cover border"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-sm font-semibold text-black",children:e.title}),(0,u.jsx)("p",{className:"text-xs text-textGray",children:e.phone})]})]}),(0,u.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-textGray",children:"Created At"}),(0,u.jsx)("p",{children:e.date})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-textGray",children:"Gender"}),(0,u.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs bg-opacity-50\n                    ".concat("Male"===e.gender?"bg-blue-100 text-blue-500":"Female"===e.gender?"bg-red-100 text-red-500":"bg-gray-100 text-gray-500","\n                  "),children:e.gender})]}),!l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-textGray",children:"Blood Group"}),(0,u.jsx)("p",{children:e.blood})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"text-xs text-textGray",children:"Age"}),(0,u.jsx)("p",{children:e.age})]})]})]})]},e._id))})]})}function w(e){let{data:s,functions:t,doctor:l}=e;const a=[{title:"View",icon:i.Vap,onClick:e=>{t.preview(e)}},{title:"Delete",icon:n.Ku6,onClick:()=>{c.oR.error("This feature is not available yet")}}];return(0,u.jsxs)("table",{className:"w-full table-auto",children:[(0,u.jsx)("thead",{className:"overflow-hidden rounded-md bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:j,children:"#"}),(0,u.jsx)("th",{className:j,children:l?"Doctor & Nurse":"Receptionist"}),(0,u.jsx)("th",{className:j,children:"Created At"}),(0,u.jsx)("th",{className:j,children:"Title"}),(0,u.jsx)("th",{className:j,children:"Email"}),(0,u.jsx)("th",{className:j,children:"Actions"})]})}),(0,u.jsx)("tbody",{children:s.map((e,s)=>(0,u.jsxs)("tr",{className:"transitions border-b border-border hover:bg-greyed",children:[(0,u.jsx)("td",{classNam:!0,e:p,children:s+1}),(0,u.jsx)("td",{className:p,children:(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("span",{className:"w-12",children:(0,u.jsx)("img",{src:e.image,alt:e.title,className:"h-12 w-full rounded-full border border-border object-cover"})}),(0,u.jsx)("h4",{className:"text-sm font-medium",children:e.fullName})]})}),(0,u.jsx)("td",{className:p,children:"12 May, 2021"}),(0,u.jsx)("td",{className:p,children:e.title}),(0,u.jsx)("td",{className:p,children:e.emailId}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)(d.sw,{datas:a,item:e,children:(0,u.jsx)("div",{className:"rounded-lg border bg-dry px-4 py-2 text-xl text-main",children:(0,u.jsx)(r.FwF,{})})})})]},e.id))})]})}function _(e){let{data:s,functions:t,doctor:l}=e;return(0,u.jsxs)("table",{className:"w-full table-auto",children:[(0,u.jsx)("thead",{className:"overflow-hidden rounded-md bg-dry",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:j,children:"Date"}),(0,u.jsx)("th",{className:j,children:l?"Patient":"Doctor"}),(0,u.jsx)("th",{className:j,children:"Status"}),(0,u.jsx)("th",{className:j,children:"Time"})]})}),(0,u.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(e=>(0,u.jsxs)("tr",{className:"transitions border-b border-border hover:bg-greyed cursor-pointer",onClick:()=>t.preview(e),children:[(0,u.jsx)("td",{className:p,children:(0,u.jsx)("p",{className:"text-xs",children:(0,x.Yq)(e.createdAt)})}),(0,u.jsxs)("td",{className:p,children:[(0,u.jsx)("h4",{className:"text-xs font-medium",children:e.userName}),(0,u.jsx)("p",{className:"mt-1 text-xs text-textGray",children:null===e||void 0===e?void 0:e.phone})]}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)("span",{className:"px-4 py-1 ".concat("Approved"===e.status?"bg-subMain text-subMain":"Pending"===e.status?"bg-orange-500 text-orange-500":"Cancelled"===e.status&&"bg-red-600 text-red-600"," rounded-xl bg-opacity-10 text-xs"),children:null===e||void 0===e?void 0:e.status})}),(0,u.jsx)("td",{className:p,children:(0,u.jsx)("p",{className:"text-xs",children:e.time})})]},e.id))})]})}function C(e){let{data:s,setData:t,servicesData:d,currency:r,readOnly:i=!1}=e;const[c,o]=(0,a.useState)({}),[x,m]=(0,a.useState)({}),h=(e,s,a)=>{i||t(t=>t.map(t=>t._id===e?(0,l.A)((0,l.A)({},t),{},{[s]:"price"===s||"quantity"===s?Number(a):a}):t))},j=(e,s)=>{i||(o(t=>(0,l.A)((0,l.A)({},t),{},{[e]:s})),m(s=>(0,l.A)((0,l.A)({},s),{},{[e]:!0})),t(t=>t.map(t=>t._id===e?(0,l.A)((0,l.A)({},t),{},{serviceName:s,serviceId:null,price:0}):t)))},p=(e,s)=>{i||(t(t=>t.map(t=>t._id===e?{_id:s._id,serviceName:s.serviceName,price:s.price,quantity:t.quantity||1,serviceId:s._id}:t)),o(t=>(0,l.A)((0,l.A)({},t),{},{[e]:s.serviceName})),m(s=>(0,l.A)((0,l.A)({},s),{},{[e]:!1})))},N=e=>{i||t(s=>s.filter(s=>s._id!==e))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"hidden sm:block",children:(0,u.jsx)("table",{className:"mt-3 w-full table-auto border-collapse border-gray-300",children:(0,u.jsx)("tbody",{children:s.map(e=>{var s,t;const o=(d||[]).filter(s=>s.serviceName.toLowerCase().includes((c[e._id]||"").toLowerCase()));return(0,u.jsxs)(a.Fragment,{children:[(0,u.jsxs)("tr",{className:"border-l border-r border-gray-300 bg-[#F1F1F1]",children:[(0,u.jsx)("th",{className:"border p-2 text-left",children:"Services / Order"}),(0,u.jsxs)("th",{className:"border p-2 text-left",children:["Price (",null===r||void 0===r?void 0:r.split(" ")[0],")"]}),(0,u.jsx)("th",{className:"border p-2 text-left",children:"Quantity"}),(0,u.jsxs)("th",{className:"border p-2 text-left",children:["Amount (",null===r||void 0===r?void 0:r.split(" ")[0],")"]}),(0,u.jsx)("th",{className:"border p-2 text-left",children:"Actions"})]}),(0,u.jsxs)("tr",{className:"hover:bg-greyed",children:[(0,u.jsx)("td",{className:"relative border p-2",children:i?(0,u.jsx)("span",{children:e.serviceName}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"text",value:null!==(s=null!==(t=c[e._id])&&void 0!==t?t:e.serviceName)&&void 0!==s?s:"",onChange:s=>j(e._id,s.target.value),onFocus:()=>m(s=>(0,l.A)((0,l.A)({},s),{},{[e._id]:!0})),className:"w-full bg-transparent px-2 py-1 outline-none",placeholder:"Search service"}),x[e._id]&&(0,u.jsxs)("div",{className:"absolute z-10 mt-1 w-full rounded border bg-white shadow",children:[(0,u.jsx)("div",{className:"px-3 py-2 font-semibold",children:"Select Services / Order"}),(0,u.jsx)("ul",{className:"max-h-40 overflow-auto",children:0===o.length?(0,u.jsx)("li",{className:"px-3 py-2 text-sm text-gray-500",children:"No service found"}):o.map(s=>(0,u.jsxs)("li",{onClick:()=>p(e._id,s),className:"flex cursor-pointer justify-between px-3 py-2 text-sm hover:bg-gray-100",children:[(0,u.jsx)("span",{children:s.serviceName}),(0,u.jsx)("span",{children:new Intl.NumberFormat("en-IN",{style:"currency",currency:s.currency||"INR"}).format(s.price)})]},s._id))})]})]})}),(0,u.jsx)("td",{className:"border p-2",children:i?e.price:(0,u.jsx)("input",{type:"number",value:e.price,onChange:s=>h(e._id,"price",s.target.value),className:"w-full bg-transparent outline-none"})}),(0,u.jsx)("td",{className:"border p-2",children:i?e.quantity:(0,u.jsx)("input",{type:"number",value:e.quantity,onChange:s=>h(e._id,"quantity",s.target.value),className:"w-full bg-transparent outline-none"})}),(0,u.jsx)("td",{className:"border p-2 font-medium",children:e.price*e.quantity}),(0,u.jsx)("td",{className:"border p-2",children:!i&&(0,u.jsx)("button",{onClick:()=>N(e._id),className:"rounded border border-red-200 px-3 py-1 text-red-600",children:(0,u.jsx)(n.WFf,{})})})]}),(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"5",className:"h-4"})})]},e._id)})})})}),(0,u.jsx)("div",{className:"block sm:hidden space-y-4",children:s.map(e=>{var s,t;const a=(d||[]).filter(s=>s.serviceName.toLowerCase().includes((c[e._id]||"").toLowerCase()));return(0,u.jsxs)("div",{className:"rounded-xl border border-border bg-white p-4",children:[(0,u.jsx)("label",{className:"text-xs text-textGray",children:"Service"}),(0,u.jsx)("input",{type:"text",value:null!==(s=null!==(t=c[e._id])&&void 0!==t?t:e.serviceName)&&void 0!==s?s:"",onChange:s=>j(e._id,s.target.value),onFocus:()=>m(s=>(0,l.A)((0,l.A)({},s),{},{[e._id]:!0})),className:"mt-1 w-full rounded border px-3 py-2 text-sm",placeholder:"Search service"}),x[e._id]&&(0,u.jsx)("div",{className:"mt-1 max-h-48 overflow-auto rounded border bg-white shadow",children:a.map(s=>(0,u.jsxs)("div",{onClick:()=>p(e._id,s),className:"flex cursor-pointer justify-between px-3 py-2 text-sm hover:bg-gray-100",children:[(0,u.jsx)("span",{children:s.serviceName}),(0,u.jsx)("span",{children:new Intl.NumberFormat("en-IN",{style:"currency",currency:s.currency||"INR"}).format(s.price)})]},s._id))}),(0,u.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,u.jsx)("input",{type:"number",value:e.price,onChange:s=>h(e._id,"price",s.target.value),className:"rounded border px-3 py-2 text-sm",placeholder:"Price"}),(0,u.jsx)("input",{type:"number",value:e.quantity,onChange:s=>h(e._id,"quantity",s.target.value),className:"rounded border px-3 py-2 text-sm",placeholder:"Qty"})]}),(0,u.jsxs)("div",{className:"mt-3 flex justify-between font-semibold",children:[(0,u.jsx)("span",{children:"Total"}),(0,u.jsx)("span",{children:e.price*e.quantity})]}),!i&&(0,u.jsx)("button",{onClick:()=>N(e._id),className:"mt-3 w-full rounded border border-red-300 py-2 text-sm text-red-600",children:"Remove"})]},e._id)})})]})}}}]);