"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[310],{90310:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(9950),r=t(17340),d=t(28429),l=t(44414);const c=()=>{const e=(0,d.Zp)(),s="Orders",[t,c]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{const e=await fetch("".concat("","/doctor/medical-orders"),{credentials:"include"}),s=await e.json();if(s.success){const e=s.data.map((e,s)=>{var t,a,r,d;return{id:e._id,orderId:e._id,date:(new Date).toLocaleDateString(),patient:{name:e.patientName,avatar:e.patientImage},address:"".concat((null===(t=e.patientAddress)||void 0===t?void 0:t.street)||"",", ").concat((null===(a=e.patientAddress)||void 0===a?void 0:a.city)||""),bill:{mrp:((null===(r=e.medications)||void 0===r?void 0:r.reduce((e,s)=>e+(s.price||0),0))||0)+((null===(d=e.diagnosis)||void 0===d?void 0:d.reduce((e,s)=>e+(s.price||0),0))||0)},medications:e.medications||[],diagnosis:e.diagnosis||[]}});c(e)}else console.error("Failed to fetch orders:",s.message)}catch(e){console.error("Error fetching orders:",e)}finally{n(!1)}})()},[]);return i?(0,l.jsx)(r.A,{title:s,children:(0,l.jsx)("div",{className:"bg-gray-50 p-6 min-h-[200px] flex items-center justify-center"})}):(0,l.jsx)(r.A,{title:s,children:(0,l.jsxs)("div",{className:"bg-gray-50 p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order lists"}),(0,l.jsxs)("div",{className:"overflow-x-auto bg-white rounded-xl shadow h-full flex flex-col",children:[0===t.length?(0,l.jsx)("div",{className:"text-center py-10 text-gray-500",children:"No orders found"}):(0,l.jsxs)("table",{className:"min-w-full text-sm text-left",children:[(0,l.jsx)("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3",children:"#"}),(0,l.jsx)("th",{className:"px-6 py-3",children:"Order ID"}),(0,l.jsx)("th",{className:"px-6 py-3",children:"Date"}),(0,l.jsx)("th",{className:"px-6 py-3",children:"Patient"}),(0,l.jsx)("th",{className:"px-6 py-3",children:"Address"}),(0,l.jsx)("th",{className:"px-6 py-3",children:"Amount"})]})}),(0,l.jsx)("tbody",{children:t.map((s,t)=>(0,l.jsxs)("tr",{className:"border-t hover:bg-gray-50 cursor-pointer",onClick:()=>((s,t)=>{e("/orders/".concat(s),{state:{order:t}})})(s.orderId,s),children:[(0,l.jsx)("td",{className:"px-6 py-4",children:t+1}),(0,l.jsx)("td",{className:"px-6 py-4 text-gray-800",children:s.orderId}),(0,l.jsx)("td",{className:"px-6 py-4",children:s.date}),(0,l.jsxs)("td",{className:"px-6 py-4 flex items-center gap-2",children:[(0,l.jsx)("img",{src:s.patient.avatar,alt:s.patient.name,className:"w-8 h-8 rounded-full"}),s.patient.name]}),(0,l.jsx)("td",{className:"px-6 py-4",children:s.address}),(0,l.jsxs)("td",{className:"px-6 py-4",children:["\u20b9",s.bill.mrp,".00"]})]},s.id))})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center px-6 py-3 text-sm text-gray-600 mt-auto",children:[(0,l.jsxs)("div",{children:["Showing ",t.length," of ",t.length," orderlists"]}),(0,l.jsxs)("div",{className:"space-x-2",children:[(0,l.jsx)("button",{className:"border px-2 py-1 rounded text-gray-400 cursor-not-allowed",disabled:!0,children:"<"}),(0,l.jsx)("span",{children:"1"}),(0,l.jsx)("button",{className:"border px-2 py-1 rounded hover:bg-gray-200",children:">"})]})]})]})]})})}}}]);