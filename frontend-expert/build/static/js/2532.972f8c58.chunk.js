"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2532],{42532:(e,l,a)=>{a.r(l),a.d(l,{default:()=>y});var s=a(9950),i=a(17340),t=a(38613),d=a(39174),n=a(26678),o=a(35887),c=a(63057),r=a(58644),x=a(31222),u=a(99324),m=a(70066),v=a(44414);const h=[{id:1,name:"All Patients",value:"all"},{id:2,name:"NHCF Patients",value:"nhcf"},{id:3,name:"Britam Patients",value:"britam"}];const p=function(e){var l,a,i,n;let{data:c}=e;const[r,x]=s.useState(h[0].name),[u,p]=s.useState(null);return s.useEffect(()=>{null!==c&&void 0!==c&&c.id&&(x(c.sendTo),p(c.image))},[c]),(0,v.jsxs)("div",{className:"mt-6 flex w-full flex-col gap-4",children:[(0,v.jsx)(t.pd,{label:"Campaign Title",color:!0,placeholder:(null===c||void 0===c?void 0:c.id)&&(null===c||void 0===c?void 0:c.title)}),(0,v.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,v.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,v.jsx)("p",{className:"text-sm",children:"Send To"}),(0,v.jsx)(t.l6,{selectedPerson:r,setSelectedPerson:x,datas:h,children:(0,v.jsxs)("div",{className:"flex h-14 w-full items-center justify-between rounded-md border border-border bg-white px-4 text-xs text-main",children:[(0,v.jsx)("p",{children:r}),(0,v.jsx)(d.nwe,{className:"text-xl"})]})})]}),(0,v.jsx)(t.pd,{label:"Email subject",color:!0,placeholder:(null===c||void 0===c?void 0:c.id)&&(null===c||void 0===c||null===(l=c.action)||void 0===l?void 0:l.subject)})]}),(0,v.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,v.jsx)(t.pd,{label:"Header",color:!0,placeholder:(null===c||void 0===c?void 0:c.id)&&(null===c||void 0===c||null===(a=c.action)||void 0===a?void 0:a.header)}),(0,v.jsx)(t.pd,{label:"Sub-header",color:!0,placeholder:(null===c||void 0===c?void 0:c.id)&&(null===c||void 0===c||null===(i=c.action)||void 0===i?void 0:i.subHeader)})]}),(0,v.jsx)(t.TM,{label:"Message",placeholder:null!==c&&void 0!==c&&c.id?null===c||void 0===c||null===(n=c.action)||void 0===n?void 0:n.message:"Dear Delight patient ....",color:!0,rows:5}),(0,v.jsxs)("div",{className:"col-span-6 flex flex-col gap-3",children:[(0,v.jsx)("p",{className:"text-sm",children:"Image (option)"}),(0,v.jsx)(m.A,{})]}),!(null!==c&&void 0!==c&&c.id)&&(0,v.jsx)(t.$n,{label:"Send Campaign",onClick:()=>{o.oR.error("This feature is not available yet")}})]})},f=[{id:1,name:"All Patients",value:"all"},{id:2,name:"NHCF Patients",value:"nhcf"},{id:3,name:"Britam Patients",value:"britam"}];const j=function(e){var l;let{data:a}=e;const[i,n]=s.useState(f[0].name);return s.useEffect(()=>{null!==a&&void 0!==a&&a.id&&n(a.sendTo)},[a]),(0,v.jsxs)("div",{className:"mt-4 flex w-full flex-col gap-4",children:[(0,v.jsx)(t.pd,{label:"Campaign Title",color:!0,placeholder:(null===a||void 0===a?void 0:a.id)&&(null===a||void 0===a?void 0:a.title)}),(0,v.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,v.jsx)("p",{className:"text-sm",children:"Send To"}),(0,v.jsx)(t.l6,{selectedPerson:i,setSelectedPerson:n,datas:f,children:(0,v.jsxs)("div",{className:"flex h-14 w-full items-center justify-between rounded-md border border-border bg-white px-4 text-xs text-main",children:[(0,v.jsx)("p",{children:i}),(0,v.jsx)(d.nwe,{className:"text-xl"})]})})]}),(0,v.jsx)(t.TM,{label:"Message",placeholder:null!==a&&void 0!==a&&a.id?null===a||void 0===a||null===(l=a.action)||void 0===l?void 0:l.message:"Dear Delight patient ....",color:!0,rows:5}),!(null!==a&&void 0!==a&&a.id)&&(0,v.jsx)(t.$n,{label:"Send Campaign",onClick:()=>{o.oR.error("This feature is not available yet")}})]})},g=[{id:1,name:"All Patients",value:"all"},{id:2,name:"NHCF Patients",value:"nhcf"},{id:3,name:"Britam Patients",value:"britam"}];const b=function(e){var l;let{data:a}=e;const[i,n]=s.useState(g[0].name);return s.useEffect(()=>{null!==a&&void 0!==a&&a.id&&n(a.sendTo)},[a]),(0,v.jsxs)("div",{className:"mt-4 flex w-full flex-col gap-4",children:[(0,v.jsx)(t.pd,{label:"Campaign Title",color:!0,placeholder:(null===a||void 0===a?void 0:a.id)&&(null===a||void 0===a?void 0:a.title)}),(0,v.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,v.jsx)("p",{className:"text-sm",children:"Send To"}),(0,v.jsx)(t.l6,{selectedPerson:i,setSelectedPerson:n,datas:g,children:(0,v.jsxs)("div",{className:"flex h-14 w-full items-center justify-between rounded-md border border-border bg-white px-4 text-xs text-main",children:[(0,v.jsx)("p",{children:i}),(0,v.jsx)(d.nwe,{className:"text-xl"})]})})]}),(0,v.jsx)(t.TM,{label:"Message",placeholder:null!==a&&void 0!==a&&a.id?null===a||void 0===a||null===(l=a.action)||void 0===l?void 0:l.message:"Dear Delight patient ....",color:!0,rows:5}),!(null!==a&&void 0!==a&&a.id)&&(0,v.jsx)(t.$n,{label:"Send Campaign",onClick:()=>{o.oR.error("This feature is not available yet")}})]})};const w=function(e){let{closeModal:l,isOpen:a,data:i}=e;const[t,d]=s.useState(0),n=[{title:"Email",value:"email",icon:c.kwe},{title:"Whatsapp",value:"whatsapp",icon:u.FlW},{title:"SMS",value:"sms",icon:x.oQI}];return(0,s.useEffect)(()=>{null!==i&&void 0!==i&&i.id&&("email"===(null===i||void 0===i?void 0:i.type)?d(0):"whatsapp"===(null===i||void 0===i?void 0:i.type)?d(1):"sms"===(null===i||void 0===i?void 0:i.type)&&d(2))},[i]),(0,v.jsx)(r.A,{closeModal:l,isOpen:a,title:null!==i&&void 0!==i&&i.id?"View Campaign":"Create Campaign",width:"max-w-3xl",children:(0,v.jsxs)("div",{className:"flex-colo gap-6",children:[!(null!==i&&void 0!==i&&i.id)&&(0,v.jsx)("div",{className:"grid w-full gap-4 overflow-hidden rounded-md bg-dry sm:grid-cols-3 sm:rounded-full",children:n.map((e,l)=>(0,v.jsxs)("button",{onClick:()=>{d(l)},className:"flex items-center gap-4 rounded-full p-2 ".concat(0===t&&"email"===e.value||1===t&&"whatsapp"===e.value||2===t&&"sms"===e.value?"bg-subMain text-white":"text-black"),children:[(0,v.jsx)("div",{className:" ".concat(0===t&&"email"===e.value||1===t&&"whatsapp"===e.value||2===t&&"sms"===e.value?"bg-white text-black":"bg-white"," text-md flex-colo h-10 w-10 rounded-full"),children:(0,v.jsx)(e.icon,{})}),(0,v.jsx)("h5",{className:"text-xs font-medium",children:e.title})]},l))}),0===t&&(0,v.jsx)(p,{data:i}),2===t&&(0,v.jsx)(b,{data:i}),1===t&&(0,v.jsx)(j,{data:i})]})})};var N=a(74930),C=a(11607);const y=function(){const[e,l]=s.useState(!1),[a,r]=s.useState({}),[x,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{const e=await fetch("".concat("","/doctor/getAllCampaigns")),l=await e.json();u(l.data),console.log("json:",l.data)}catch(e){console.log("error fetching...",e)}finally{h(!1)}})()},[]);const p=()=>{l(!e),r({})},f=[{title:"View",icon:N.Vap,onClick:e=>{l(!0),r(e)}},{title:"Delete",icon:n.WFf,onClick:()=>{o.oR.error("This feature is not available yet")}}];return m?(0,v.jsx)(i.A,{children:(0,v.jsx)("p",{children:"Loading..."})}):(0,v.jsxs)(i.A,{children:[e&&(0,v.jsx)(w,{isOpen:e,closeModal:p,data:a}),(0,v.jsxs)("div",{className:"flex-btn flex-wrap items-center gap-4",children:[(0,v.jsx)("h1",{className:"text-xl font-semibold",children:"Campaings"}),(0,v.jsx)("div",{className:"xs:w-56",children:(0,v.jsx)(t.$n,{label:"New Campaing",Icon:d.Ca6,onClick:()=>{p()}})})]}),(0,v.jsx)("div",{"data-aos":"fade-up","data-aos-duration":"1000","data-aos-delay":"100","data-aos-offset":"200",className:"my-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:x.map((e,l)=>(0,v.jsxs)("div",{className:"rounded-xl border-[1px] border-border bg-white p-5",children:[(0,v.jsxs)("div",{className:"grid grid-cols-12 items-center gap-4 border-b border-border pb-4",children:[(0,v.jsx)("div",{className:"col-span-2",children:(0,v.jsx)("div",{className:"flex-colo h-12 w-full rounded bg-blue-500 bg-opacity-10 text-lg text-blue-500",children:(0,v.jsx)(c.MuI,{})})}),(0,v.jsxs)("div",{className:"col-span-8",children:[(0,v.jsx)("h1",{className:"text-sm font-light",children:e.titleName}),(0,v.jsx)("p",{className:"mt-1 text-xs font-medium",children:e.secondTitle})]}),(0,v.jsx)("div",{className:"col-span-2",children:(0,v.jsx)(t.sw,{datas:f,item:e,children:(0,v.jsx)("div",{className:"flex-colo h-12 w-12 rounded text-lg hover:bg-subMain hover:bg-opacity-10 hover:text-subMain",children:(0,v.jsx)(d.voe,{})})})})]}),(0,v.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[(0,v.jsx)("h4",{className:"text-sm font-medium",children:"Message"}),(0,v.jsxs)("p",{className:"text-xs leading-5 text-textGray",children:[e.description,"...."]}),(0,v.jsx)("div",{className:"flex gap-2",children:(0,v.jsx)("span",{className:"rounded-xl border border-border bg-dry px-4 py-2 text-xs text-textGray",children:(0,C.Yq)(e.date)})})]})]},l))})]})}}}]);